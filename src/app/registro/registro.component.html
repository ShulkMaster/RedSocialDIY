<div id="registroForm" class="wrap">
    <div class="card-body text-center">
        <form [formGroup]="formregis" (ngSubmit)='registrar()' class="formula" *ngIf="!exito">
            <h1 class="he mb-3 font-weight-normal mt-2 mb-4">Registro</h1>
            <fieldset class="card">
                <div class="capturador ">
                    <label for="systemUser" class="col-4">Nombre de Usuario</label>
                    <input type="text" id="systemUser" name="username" [class.error]="(this.formregis.controls.username.invalid && this.formregis.controls.username.touched)"
                        placeholder="User Name" formControlName="username">
                </div>
            </fieldset>

            <fieldset class="card">
                <div class="capturador">
                    <label for="userMail" class="col-4">Correo Electronico</label>
                    <input type="email" id="userMail" name="userMail" [class.error]="(this.formregis.controls.email.invalid)"
                        placeholder="Correo Electronico" formControlName="email" class="email" title="Ingrese correo valido-formato: correo@correo.com">
                </div>
            </fieldset>

            <fieldset class="card">
                <div class="capturador">
                    <label for="upassword" class="col-4">Contrase単a</label>
                    <input type="password" id="upassword" name="upassword" [class.error]="(this.formregis.controls.passwd.invalid && this.formregis.controls.passwd.dirty)"
                        placeholder="Contrase単a" formControlName="passwd" class="password" title="Debe contener Mayusculas, minusculas, numeros y simbolos"
                        (input)="changebarprop()">
                    <p>Debe contener Mayusculas, minusculas, numeros y simbolos</p>
                    <div class="progressbar" *ngIf="this.formregis.controls.passwd.dirty" [ngStyle]="{'background-color': lecolor, 'width': barwid+'em', height:'15px' }">
                    </div>
                </div>

                <div class="capturador">
                    <label for="cupassword" class="col-4">Confirmar contrase単a</label>
                    <input type="password" id="cupassword" name="cupassword" [class.error]="(this.formregis.controls.conpasswd.invalid)"
                        placeholder="Contrase単a" formControlName="conpasswd" class="password">
                </div>
            </fieldset>

            <div class="card">
                <input type="checkbox" id="exampleCheck1" formControlName="checkb">
                <label for="exampleCheck1">Aceptar Terminos y Condiciones</label>
            </div>

            <button type="submit" class="btn btn-lg btn-primary btn-block mb-2 col-6 col-xs-6 col-sm-6 col-md-6" id="registro"
                [disabled]="!this.formregis.valid">
                Registrarse
            </button>

            <div class="form-group col-md-12 mb-2">
                <a routerLink="/login" class="form-control userLog">Ya estas registrado?</a>
            </div>
        </form>
        <div class="formula card" *ngIf="submited">
            <div>
                <p>{{mensaje}}</p>
                <a routerLink="/login" *ngIf="exito">Iniciar Sesion</a>
            </div>
        </div>
    </div>
</div>
